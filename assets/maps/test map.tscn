[gd_scene load_steps=8 format=4 uid="uid://ciwa31sai6p55"]

[ext_resource type="TileSet" uid="uid://cp7ecdv0bd158" path="res://assets/data/tilesets/field.tres" id="1_bwv3s"]
[ext_resource type="Script" uid="uid://dw2oy080uicd1" path="res://src/action_node/action_node.gd" id="2_7byqs"]
[ext_resource type="Script" uid="uid://p48w2mfls56y" path="res://src/action_node/action_example.gd" id="3_f1mjc"]
[ext_resource type="Texture2D" uid="uid://c8o6gf6i762gj" path="res://assets/graphics/entities/player/Player Base.png" id="4_thmkn"]
[ext_resource type="Script" uid="uid://ctg0tgpta5ldx" path="res://src/action_node/action_raycast_2d.gd" id="4_yadwc"]

[sub_resource type="AtlasTexture" id="AtlasTexture_mbm0u"]
atlas = ExtResource("4_thmkn")
region = Rect2(0, 0, 16, 24)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b45hh"]
size = Vector2(16, 16)

[node name="Map" type="Node2D"]
y_sort_enabled = true

[node name="GroundLayer1" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAAIAAAABAAIAAAACAAMAAAACAAIAAAACAAQAAAACAAIAAAACAAUAAAACAAIAAAACAAYAAAACAAIAAAACAAcAAAACAAIAAAACAAgAAAACAAIAAAACAAkAAAACAAIAAAACAAoAAAACAAIAAAACAAsAAAACAAIAAAACAAwAAAACAAIAAAACAA0AAAABAAIAAAADAAIAAAAEAAEAAAADAAMAAAAEAAIAAAADAAQAAAAEAAMAAAADAAUAAAABAAIAAAADAAYAAAABAAIAAAADAAcAAAABAAIAAAADAAgAAAABAAIAAAADAAkAAAABAAIAAAADAAoAAAABAAIAAAADAAsAAAABAAIAAAADAAwAAAABAAIAAAADAA0AAAABAAIAAAAEAAIAAAABAAQAAAAEAAMAAAABAAUAAAAEAAQAAAABAAIAAAAEAAUAAAABAAIAAAAEAAYAAAABAAIAAAAEAAcAAAABAAIAAAAEAAgAAAABAAIAAAAEAAkAAAABAAIAAAAEAAoAAAABAAIAAAAEAAsAAAABAAIAAAAEAAwAAAABAAIAAAAEAA0AAAABAAIAAAAFAAIAAAABAAQAAAAFAAQAAAABAAIAAAAFAAUAAAABAAIAAAAFAAYAAAABAAIAAAAFAAcAAAABAAIAAAAFAAgAAAABAAIAAAAFAAkAAAABAAIAAAAFAAoAAAABAAIAAAAFAAsAAAABAAIAAAAFAAwAAAABAAIAAAAFAA0AAAABAAIAAAAGAAIAAAABAAQAAAAGAAMAAAABAAUAAAAGAAQAAAABAAIAAAAGAAUAAAABAAIAAAAGAAYAAAABAAIAAAAGAAcAAAABAAIAAAAGAAgAAAABAAIAAAAGAAkAAAABAAIAAAAGAAoAAAABAAIAAAAGAAsAAAABAAIAAAAGAAwAAAABAAIAAAAGAA0AAAABAAIAAAAHAAIAAAABAAQAAAAHAAMAAAABAAUAAAAHAAQAAAABAAIAAAAHAAUAAAABAAIAAAAHAAYAAAABAAIAAAAHAAcAAAABAAIAAAAHAAgAAAABAAIAAAAHAAkAAAABAAIAAAAHAAoAAAABAAIAAAAHAAsAAAABAAIAAAAHAAwAAAABAAIAAAAHAA0AAAABAAIAAAAIAAIAAAABAAQAAAAIAAMAAAABAAUAAAAIAAQAAAABAAIAAAAIAAUAAAABAAIAAAAIAAYAAAABAAIAAAAIAAcAAAABAAIAAAAIAAgAAAABAAIAAAAIAAkAAAABAAIAAAAIAAoAAAABAAIAAAAIAAsAAAABAAIAAAAIAAwAAAABAAIAAAAIAA0AAAABAAIAAAAJAAIAAAABAAQAAAAJAAMAAAABAAUAAAAJAAQAAAABAAIAAAAJAAUAAAABAAIAAAAJAAYAAAABAAIAAAAJAAcAAAABAAIAAAAJAAgAAAABAAIAAAAJAAkAAAABAAIAAAAJAAoAAAABAAIAAAAJAAsAAAABAAIAAAAJAAwAAAABAAIAAAAJAA0AAAABAAIAAAAKAAIAAAABAAQAAAAKAAMAAAABAAUAAAAKAAQAAAABAAIAAAAKAAUAAAABAAIAAAAKAAYAAAABAAIAAAAKAAcAAAABAAIAAAAKAAgAAAABAAIAAAAKAAkAAAABAAIAAAAKAAoAAAABAAIAAAAKAAsAAAABAAIAAAAKAAwAAAABAAIAAAAKAA0AAAABAAIAAAALAAIAAAABAAQAAAALAAMAAAABAAUAAAALAAQAAAABAAIAAAALAAUAAAABAAIAAAALAAYAAAABAAIAAAALAAcAAAABAAIAAAALAAgAAAABAAIAAAALAAkAAAABAAIAAAALAAoAAAABAAIAAAALAAsAAAABAAIAAAALAAwAAAABAAIAAAALAA0AAAABAAIAAAAMAAIAAAABAAQAAAAMAAMAAAABAAUAAAAMAAQAAAABAAIAAAAMAAUAAAABAAIAAAAMAAYAAAABAAIAAAAMAAcAAAABAAIAAAAMAAgAAAABAAIAAAAMAAkAAAABAAIAAAAMAAoAAAABAAIAAAAMAAsAAAABAAIAAAAMAAwAAAABAAIAAAAMAA0AAAABAAIAAAANAAIAAAABAAQAAAANAAMAAAABAAUAAAANAAQAAAABAAIAAAANAAUAAAABAAIAAAANAAYAAAABAAIAAAANAAcAAAABAAIAAAANAAgAAAABAAIAAAANAAkAAAABAAIAAAANAAoAAAABAAIAAAANAAsAAAABAAIAAAANAAwAAAABAAIAAAANAA0AAAABAAIAAAAOAAIAAAABAAQAAAAOAAMAAAABAAUAAAAOAAQAAAABAAIAAAAOAAUAAAABAAIAAAAOAAYAAAABAAIAAAAOAAcAAAABAAIAAAAOAAgAAAABAAIAAAAOAAkAAAABAAIAAAAOAAoAAAABAAIAAAAOAAsAAAABAAIAAAAOAAwAAAABAAIAAAAOAA0AAAABAAIAAAAPAAIAAAAFAAEAAAAPAAMAAAAFAAIAAAAPAAQAAAAFAAMAAAAPAAUAAAABAAIAAAAPAAYAAAABAAIAAAAPAAcAAAABAAIAAAAPAAgAAAABAAIAAAAPAAkAAAABAAIAAAAPAAoAAAABAAIAAAAPAAsAAAABAAIAAAAPAAwAAAABAAIAAAAPAA0AAAABAAIAAAAQAAIAAAABAAIAAAAQAAMAAAAFAAEAAAAQAAQAAAAFAAIAAAAQAAUAAAAFAAMAAAAQAAYAAAABAAIAAAAQAAcAAAABAAIAAAAQAAgAAAABAAIAAAAQAAkAAAABAAIAAAAQAAoAAAABAAIAAAAQAAsAAAABAAIAAAAQAAwAAAABAAIAAAAQAA0AAAABAAIAAAARAAIAAAABAAIAAAARAAMAAAABAAMAAAARAAQAAAABAAQAAAARAAUAAAABAAUAAAARAAYAAAABAAIAAAARAAcAAAABAAIAAAARAAgAAAABAAIAAAARAAkAAAABAAIAAAARAAoAAAABAAIAAAARAAsAAAABAAIAAAARAAwAAAABAAIAAAARAA0AAAABAAIAAAASAAIAAAABAAIAAAASAAMAAAABAAMAAAASAAQAAAABAAQAAAASAAUAAAABAAUAAAASAAYAAAABAAIAAAASAAcAAAABAAIAAAASAAgAAAABAAIAAAASAAkAAAABAAIAAAASAAoAAAABAAIAAAASAAsAAAABAAIAAAASAAwAAAABAAIAAAASAA0AAAABAAIAAAATAAIAAAABAAIAAAATAAMAAAABAAMAAAATAAQAAAABAAQAAAATAAUAAAABAAUAAAATAAYAAAABAAIAAAATAAcAAAABAAIAAAATAAgAAAABAAIAAAATAAkAAAABAAIAAAATAAoAAAABAAIAAAATAAsAAAABAAIAAAATAAwAAAABAAIAAAATAA0AAAABAAIAAAAUAAIAAAAAAAUAAAAUAAMAAAABAAIAAAAUAAQAAAAFAAEAAAAUAAUAAAAFAAIAAAAUAAYAAAAFAAMAAAAUAAcAAAABAAIAAAAUAAgAAAABAAIAAAAUAAkAAAABAAIAAAAUAAoAAAABAAIAAAAUAAsAAAABAAIAAAAUAAwAAAABAAIAAAAUAA0AAAABAAIAAAAVAAIAAAAAAAMAAAAVAAMAAAAAAAQAAAAVAAQAAAAAAAUAAAAVAAUAAAAAAAIAAAAVAAYAAAAAAAIAAAAVAAcAAAAAAAIAAAAVAAgAAAAAAAIAAAAVAAkAAAAAAAIAAAAVAAoAAAAAAAIAAAAVAAsAAAAAAAIAAAAVAAwAAAAAAAIAAAAVAA0AAAABAAIAAAAFAAMAAAABAAUAAAAEAAEAAAABAAMAAAAFAAEAAAABAAMAAAAGAAEAAAABAAMAAAAHAAEAAAABAAMAAAAIAAEAAAABAAMAAAAJAAEAAAABAAMAAAAKAAEAAAABAAMAAAALAAEAAAABAAMAAAAMAAEAAAABAAMAAAANAAEAAAABAAMAAAAOAAEAAAABAAMAAAAAAAAAAAABAAIAAAABAAAAAAACAAMAAAACAAAAAAABAAQAAAADAAAAAAACAAQAAAAEAAAAAAABAAUAAAAFAAAAAAABAAUAAAAGAAAAAAABAAUAAAAHAAAAAAABAAUAAAAIAAAAAAABAAUAAAAJAAAAAAABAAUAAAAKAAAAAAABAAUAAAALAAAAAAABAAUAAAAMAAAAAAABAAUAAAANAAAAAAABAAUAAAAOAAAAAAABAAUAAAAPAAAAAAABAAUAAAAQAAAAAAABAAUAAAARAAAAAAABAAUAAAASAAAAAAABAAUAAAATAAAAAAAAAAQAAAAUAAAAAAAAAAMAAAAVAAAAAAABAAIAAAAVAAEAAAAAAAIAAAAUAAEAAAAAAAQAAAATAAEAAAAAAAUAAAASAAEAAAABAAIAAAARAAEAAAABAAIAAAAQAAEAAAABAAIAAAAPAAEAAAABAAIAAAADAAEAAAACAAUAAAACAAEAAAABAAUAAAABAAEAAAACAAQAAAAAAAEAAAACAAMAAAAAAAIAAAACAAQAAAAAAAMAAAACAAUAAAAAAAQAAAABAAIAAAAAAAUAAAABAAIAAAAAAAYAAAABAAIAAAAAAAcAAAABAAIAAAAAAAgAAAABAAIAAAAAAAkAAAABAAIAAAAAAAoAAAABAAIAAAAAAAsAAAABAAIAAAAAAAwAAAABAAIAAAAAAA0AAAABAAIAAAABAA0AAAABAAIAAAABAAwAAAABAAIAAAABAAsAAAABAAIAAAABAAoAAAABAAIAAAABAAkAAAABAAIAAAABAAgAAAABAAIAAAABAAcAAAABAAIAAAABAAYAAAABAAIAAAABAAUAAAABAAIAAAABAAQAAAABAAIAAAABAAMAAAABAAIAAAABAAIAAAACAAUAAAAWAAAAAAABAAIAAAAWAAEAAAABAAIAAAAWAAIAAAABAAIAAAAWAAMAAAAAAAIAAAAWAAUAAAAAAAQAAAAWAAYAAAAAAAUAAAAWAAcAAAABAAIAAAAWAA0AAAABAAIAAAAWAAwAAAABAAIAAAAWAAsAAAABAAIAAAAWAAoAAAABAAIAAAAWAAkAAAABAAIAAAAWAAgAAAABAAIAAAAXAAEAAAABAAIAAAAXAAAAAAABAAIAAAAXAAIAAAABAAIAAAAXAAMAAAABAAIAAAAXAAQAAAABAAIAAAAXAAUAAAAAAAMAAAAXAAYAAAAAAAQAAAAXAAkAAAABAAIAAAAXAAoAAAABAAIAAAAXAAsAAAABAAIAAAAXAAwAAAABAAIAAAAXAA0AAAABAAIAAAAAAA4AAAABAAIAAAABAA4AAAABAAIAAAACAA4AAAABAAIAAAADAA4AAAABAAIAAAAFAA4AAAABAAIAAAAGAA4AAAABAAIAAAAHAA4AAAABAAIAAAAIAA4AAAABAAIAAAAJAA4AAAABAAIAAAAKAA4AAAABAAIAAAALAA4AAAABAAIAAAAMAA4AAAABAAIAAAANAA4AAAABAAIAAAAOAA4AAAABAAIAAAAPAA4AAAABAAIAAAAQAA4AAAABAAIAAAARAA4AAAABAAIAAAASAA4AAAABAAIAAAATAA4AAAABAAIAAAAUAA4AAAABAAIAAAAVAA4AAAABAAIAAAAWAA4AAAABAAIAAAAXAA4AAAABAAIAAAAXAA8AAAABAAIAAAAWAA8AAAABAAIAAAAVAA8AAAABAAIAAAAUAA8AAAABAAIAAAATAA8AAAABAAIAAAASAA8AAAABAAIAAAARAA8AAAABAAIAAAAQAA8AAAABAAIAAAAPAA8AAAABAAIAAAAOAA8AAAABAAIAAAANAA8AAAABAAIAAAAMAA8AAAABAAIAAAALAA8AAAABAAIAAAAKAA8AAAABAAIAAAAJAA8AAAABAAIAAAAIAA8AAAABAAIAAAAHAA8AAAABAAIAAAAGAA8AAAABAAIAAAAFAA8AAAABAAIAAAAEAA8AAAABAAIAAAADAA8AAAABAAIAAAACAA8AAAABAAIAAAABAA8AAAABAAIAAAAAAA8AAAABAAIAAAAWAAQAAAAAAAMAAAAEAA4AAAABAAIAAAAXAAgAAAABAAIAAAAXAAcAAAAAAAUAAAA=")
tile_set = ExtResource("1_bwv3s")

[node name="GroundLayer2" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAUABAABAAEAAAAGAAUABAABAAEAAAAHAAUABAACAAEAAAAEAAcABAABAAEAAAAEAAYABAABAAEAAAAEAAUABAABAAEAAAAEAAQABAABAAAAAAAFAAQABAABAAAAAAAGAAQABAABAAAAAAAHAAQABAACAAAAAAADAAcABAAAAAEAAAADAAYABAAAAAEAAAADAAUABAAAAAEAAAAEAAgABAABAAEAAAADAAgABAAAAAEAAAATAAgABAABAAcAAAATAAcABAABAAcAAAASAAgABAABAAcAAAASAAcABAABAAcAAAASAAkABAABAAcAAAASAAoABAABAAcAAAARAAsABAABAAcAAAAQAAsABAABAAcAAAAPAAsABAABAAcAAAAOAAsABAABAAcAAAAPAAoABAABAAcAAAAQAAoABAABAAcAAAARAAoABAABAAcAAAARAAkABAABAAcAAAARAAgABAABAAcAAAARAAcABAABAAcAAAAQAAcABAABAAcAAAAPAAcABAABAAcAAAAOAAcABAABAAcAAAAOAAgABAABAAcAAAAOAAkABAABAAcAAAAPAAkABAABAAcAAAAPAAgABAABAAcAAAAQAAgABAABAAcAAAAQAAkABAABAAcAAAANAAsABAABAAcAAAAMAAsABAABAAcAAAALAAoABAABAAcAAAAMAAoABAABAAcAAAANAAoABAABAAcAAAAOAAoABAABAAcAAAALAAsABAABAAcAAAANAAkABAABAAcAAAAKAAkABAAAAAYAAAAMAAgABAAAAAYAAAANAAYABAAAAAYAAAAUAAYABAACAAYAAAAUAAcABAACAAcAAAAUAAgABAACAAcAAAARAAwABAABAAgAAAAQAAwABAABAAgAAAAPAAwABAABAAgAAAAOAAwABAABAAgAAAANAAwABAABAAgAAAAMAAwABAABAAgAAAALAAwABAABAAgAAAAKAAsABAAAAAcAAAAKAAwABAAAAAgAAAAKAAoABAAAAAcAAAANAAcABAAAAAcAAAATAAYABAABAAYAAAASAAYABAABAAYAAAARAAYABAABAAYAAAAQAAYABAABAAYAAAAPAAYABAABAAYAAAAOAAYABAABAAYAAAANAAgABAADAAYAAAAMAAkABAADAAYAAAALAAkABAABAAYAAAAFAAkABAABAAEAAAAFAAoABAABAAEAAAAGAAkABAACAAEAAAAEAAoABAAEAAAAAAAEAAkABAABAAEAAAADAAkABAAAAAEAAAADAAQABAAAAAAAAAADAAoABAAAAAIAAAAFAAsABAABAAIAAAAEAAsABAAAAAIAAAAGAAoABAACAAEAAAAGAAsABAACAAIAAAAHAAYABAACAAIAAAAFAAYABAADAAAAAAAFAAcABAACAAEAAAAFAAgABAADAAEAAAAGAAgABAACAAAAAAADAA0AAAABAAEAAAAEAA0AAAABAAEAAAAFAA0AAAABAAEAAAAGAA0AAAABAAEAAAAHAA0AAAABAAEAAAAIAA0AAAABAAEAAAAJAA0AAAABAAEAAAAKAA0AAAABAAEAAAALAA0AAAABAAEAAAAMAA0AAAABAAEAAAANAA0AAAABAAEAAAAOAA0AAAABAAEAAAAPAA0AAAABAAEAAAAQAA0AAAABAAEAAAARAA0AAAABAAEAAAASAA0AAAABAAEAAAATAA0AAAABAAEAAAAUAA0AAAABAAEAAAAGAAYABAABAAIAAAANAAQAAQACAAEAAAAQAAUAAQAMAAAAAAAPAAUAAQAMAAAAAAAWAAgAAQAKAAAAAAAJAAQAAQAIAAAAAAAQAAEAAQAIAAAAAAAQAAIAAQAMAAEAAAAEAAwAAQAMAAAAAAADAAwAAQACAAEAAAADAAsAAQAMAAAAAAAGAAcAAQAEAAEAAAAHAAgAAQADAAAAAAAHAAcAAQADAAEAAAAHAAkAAQAEAAEAAAAWAAkAAQAJAAAAAAAXAAkAAQAJAAEAAAAVAAoAAQAJAAEAAAARAAIAAQACAAEAAAAVAAUAAQACAAAAAAALAA4AAQAEAAEAAAAJAA4AAQADAAAAAAAKAA8AAQADAAEAAAAIAA4AAQADAAEAAAALAA8AAQADAAEAAAANAA8AAQADAAAAAAAMAA4AAQAEAAAAAAAJAA8AAQAEAAAAAAAUAA8AAQAIAAEAAAAWAAoAAQAMAAAAAAAXAAgAAQAMAAAAAAAQAA4AAQAMAAAAAAATAA8AAQAMAAAAAAAAAA0AAQAMAAAAAAAAAAkAAQAMAAAAAAAHAAAAAQAEAAAAAAALAAAAAQAEAAAAAAASAAsABAAEAAcAAAASAAwABAACAAgAAAATAAkABAAEAAcAAAATAAoABAACAAcAAAATAAsABAACAAgAAAAUAAkABAACAAgAAAAOAA4AAQACAAEAAAABAA8AAQACAAEAAAAIAAQAAQADAAEAAAALAAcAAQAIAAEAAAAUAAoAAQANAAAAAAAUAAsAAQANAAEAAAAUAAwAAQAMAAEAAAATAAwAAQANAAAAAAA=")
tile_set = ExtResource("1_bwv3s")

[node name="StructureLayer1" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAABAAMAAQAAAAAAAAABAAQAAQAGAAAAAAAKAAQAAQAFAAAAAAALAAQAAQAFAAAAAAAMAAQAAQAFAAAAAAABAAUAAQAGAAAAAAAAAAcAAQAGAAAAAAABAAgAAQAAAAAAAAAAAAsAAQAGAAAAAAABAA0AAQAGAAAAAAAFAA8AAQAGAAAAAAARAA8AAQAAAAAAAAAXAAwAAQAFAAAAAAAXAA0AAQAFAAAAAAAVAA4AAQAGAAAAAAASAAIAAQAGAAAAAAARAAEAAQAAAAAAAAAIAAoAAQAAAAIAAAA=")
tile_set = ExtResource("1_bwv3s")

[node name="Actions" type="Node2D" parent="."]

[node name="ActionNode" type="Node2D" parent="Actions"]
top_level = true
position = Vector2(144, 80)
script = ExtResource("2_7byqs")
action_script = ExtResource("3_f1mjc")
debug_color = Color(1, 0.054902, 0, 0.498039)
metadata/_custom_type_script = "uid://dw2oy080uicd1"

[node name="ActionNode2" type="Node2D" parent="Actions"]
top_level = true
position = Vector2(144, 112)
script = ExtResource("2_7byqs")
action_mode = 1
action_script = ExtResource("3_f1mjc")
debug_color = Color(0, 0.065177, 1, 0.5)
metadata/_custom_type_script = "uid://dw2oy080uicd1"

[node name="EntityExample" type="CharacterBody2D" parent="."]
position = Vector2(160, 80)

[node name="Sprite2D" type="Sprite2D" parent="EntityExample"]
modulate = Color(0, 0.569752, 1, 1)
position = Vector2(8, 4)
texture = SubResource("AtlasTexture_mbm0u")

[node name="CollisionShape2D" type="CollisionShape2D" parent="EntityExample"]
position = Vector2(8, 8)
shape = SubResource("RectangleShape2D_b45hh")

[node name="ActionRaycast2D" type="RayCast2D" parent="EntityExample"]
position = Vector2(8, 8)
target_position = Vector2(0, 48)
collision_mask = 2
script = ExtResource("4_yadwc")
length = 3
action_script = ExtResource("3_f1mjc")
metadata/_custom_type_script = "uid://ctg0tgpta5ldx"
